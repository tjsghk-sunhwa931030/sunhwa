<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
 
 <mapper namespace="mybatis.UInfoDAOImpl">
 
 	<select id="getTotalCount" resultType="int">
 		SELECT COUNT(*) from info_univ
 	</select>
 	<select id="listPage" resultType="mybatis.UInfoDTO">
 		SELECT * FROM info_univ
 	</select>
 
 <!-- 체크리스트에있는 항목과 검색하단 리스트 페이지에 출력될 항목 출력  -->
 <!-- SELECT * FROM myboard WHERE idx=#{board_idx} AND id=#{user_id} -->
 	<select id="search" resultType="mybatis.UInfoDTO" parameterType="mybatis.checkedDTO">
 		SELECT * FROM info_univ WHERE uname=#{chkUname} OR location=#{chkLct} 
 				OR p_type=#{chkPtype} OR jobrate=#{chkJob} OR tuition = #{chkTui}
 	</select>
	
<!-- 대학교 이름 검색 -->
	<sql id="searchUname">
		<choose>
			<!-- 체크리스트가 전체에서 대학교 이름 검색 -->
			<when test="check=='all'">
				WHERE uname like '%'||#{uname}||'%'
			</when>
			<!-- 체크가   -->
			<otherwise>
				WHERE ${check} like '%'||#{uname}||'%'
			</otherwise>
		</choose>
	</sql>

 </mapper>
  
